<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bodas – Fotógrafo Profesional</title>
  <!-- Enlace a estilos globales -->
  <link rel="stylesheet" href="css/styleinicio.css" />
  <style>
    /* Contenedor de tarjetas de álbum */
    .album-list {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      padding: 20px;
    }
    /* Tarjeta de álbum individual */
    .album-card {
      width: 200px;
      cursor: pointer;
      text-align: center;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: box-shadow 0.3s ease;
    }
    .album-card:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    }
    .album-card img {
      width: 100%;
      border-radius: 8px 8px 0 0;
      object-fit: cover;
      height: 140px;
    }
    .album-card h3 {
      margin: 10px 0;
      font-size: 1.1rem;
      color: #333;
    }
  </style>
</head>
<body>
<!-- Header con logo y navegación principal -->
<header>
  <div class="header-left">
    <img src="img/logo.png" alt="Logo Clic y Color" class="logo" />
    <span class="branding">Clic Y Color</span>
  </div>
  <span class="site-title">Fotógrafo Profesional</span>
  <nav>
    <ul>
      <li><a href="index.html">Inicio</a></li>
      <li class="dropdown">
        <a href="portafolio.html">Portafolio ▾</a>
        <ul class="dropdown-menu">
          <!-- Enlaces a categorías -->
          <li><a href="categoria-bodas.html">Bodas</a></li>
          <li><a href="categoria-bautizos.html">Bautizos</a></li>
          <li><a href="categoria-comuniones.html">Comuniones</a></li>
          <li><a href="categoria-retratos.html">Retratos</a></li>
          <li><a href="categoria-conciertos.html">Conciertos</a></li>
        </ul>
      </li>
      <li><a href="login.html">Iniciar sesión</a></li>
      <li><a href="contacto.html">Contacto</a></li>
    </ul>
  </nav>
</header>

<!-- Título de la sección Bodas -->
<h1 style="text-align:center; margin-top:2rem;">Bodas</h1>

<!-- Listado de álbumes de bodas cargados por JavaScript -->
<section id="albumList" class="album-list"></section>

<script>
  // ID fijo del evento "Bodas"; ajusta al ID real del backend
  const EVENT_ID_BODAS = 1;

  async function loadAlbums() {
    const container = document.getElementById('albumList');
    container.textContent = 'Cargando álbumes...';
    try {
      // Petición al backend para obtener álbumes del evento
      const res = await fetch(`/api/albums/by-event/${EVENT_ID_BODAS}`);
      const albums = await res.json();
      if (!albums.length) {
        container.innerHTML = '<p>No hay álbumes disponibles.</p>';
        return;
      }
      container.innerHTML = '';
      // Crear tarjeta por cada álbum
      albums.forEach(album => {
        const card = document.createElement('div');
        card.className = 'album-card';
        const img = document.createElement('img');
        img.src = album.mainPhotoUrl || 'img/placeholder.png';
        img.alt = album.name;
        const title = document.createElement('h3');
        title.textContent = album.name;
        card.append(img, title);
        // Al hacer clic, navegar a la vista del álbum
        card.addEventListener('click', () => {
          window.location.href = `ver-album.html?albumId=${album.id}&volver=bodas`;
        });
        container.appendChild(card);
      });
    } catch (error) {
      console.error(error);
      container.innerHTML = '<p>Error cargando álbumes.</p>';
    }
  }
  loadAlbums();
</script>

<!-- Footer con derechos y términos -->
<footer>
  <div class="footer-content">
    <p>&copy; 2025 Clic y Color. Todos los derechos reservados.</p>
    <a href="#terms" class="terms-link">Términos y Condiciones</a>
  </div>
</footer>

<!-- Modal de Términos y Condiciones -->
<div id="terms" class="terms-container">
  <h2>Términos y Condiciones</h2>
  <p>Contenido de los términos y condiciones...</p>
  <button onclick="document.getElementById('terms').style.display='none'">Cerrar</button>
</div>
</body>
</html>
